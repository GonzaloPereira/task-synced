(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{46:function(e,t,n){},51:function(e,t,n){},69:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(27),s=n.n(a),i=(n(69),n(12)),o=n(7),u=n(3),j=n.n(u),l=n(5),b=n(4),d=(n(46),n(105)),p=n(104);function O(){return(O=Object(l.a)(j.a.mark((function e(t,n,r){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n,name:r})},e.abrupt("return",fetch("/api/register",c));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(l.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})},e.abrupt("return",fetch("/api/login",r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/logout"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/isAuthenticated").then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/users/".concat(t)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=n(0),g=c.a.createContext();function w(){return Object(r.useContext)(g)}function N(e){var t=e.children,n=Object(r.useState)(),c=Object(b.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(!0),o=Object(b.a)(i,2),u=o[0],d=o[1],p=Object(r.useRef)(!1);function x(){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,s(t),d(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){return p.current=!0,function(){p.current=!1}})),Object(r.useEffect)(Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){s(null)},!p.current){e.next=4;break}return e.next=4,x();case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[]);var y={currentUser:a,refreshUser:x,login:function(e,t){return function(e,t){return h.apply(this,arguments)}(e,t).then((function(){return x()}))},signup:function(e,t,n){return function(e,t,n){return O.apply(this,arguments)}(e,t,n).then((function(){return x()}))},logout:function(){return function(){return f.apply(this,arguments)}().then((function(){return x()}))}};return Object(k.jsx)(g.Provider,{value:y,children:!u&&t})}function C(){var e=Object(r.useRef)(""),t=Object(r.useRef)(""),n=Object(r.useRef)(""),c=Object(r.useRef)(""),a=w(),s=a.signup,o=(a.refreshUser,Object(r.useState)("")),u=Object(b.a)(o,2),O=u[0],h=u[1],f=Object(r.useState)(!1),m=Object(b.a)(f,2),x=m[0],v=m[1],y=Object(r.useRef)(!1);function g(){return(g=Object(l.a)(j.a.mark((function r(a){return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),t.current.value===n.current.value){r.next=3;break}return r.abrupt("return",h("Passwords do not match"));case 3:return r.prev=3,h(""),v(!0),r.next=8,s(e.current.value,t.current.value,c.current.value);case 8:if(r.sent.ok){r.next=11;break}throw new Error;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(3),h("Failed to create an account");case 16:y.current&&v(!1);case 17:case"end":return r.stop()}}),r,null,[[3,13]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){return y.current=!0,function(){y.current=!1}})),Object(k.jsxs)("div",{className:"form",children:[Object(k.jsx)("h2",{children:"Sign Up"}),Object(k.jsxs)("form",{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(k.jsxs)("label",{htmlFor:"email",children:[Object(k.jsx)("p",{children:"Email"}),Object(k.jsx)("input",{type:"email",id:"email",ref:e})]}),Object(k.jsxs)("label",{htmlFor:"password",children:[Object(k.jsx)("p",{children:"Password"}),Object(k.jsx)("input",{type:"password",ref:t,id:"password"})]}),Object(k.jsxs)("label",{htmlFor:"passwordConfirm",children:[Object(k.jsx)("p",{children:"Confirm password"}),Object(k.jsx)("input",{type:"password",ref:n,id:"passwordConfirm"})]}),Object(k.jsxs)("label",{htmlFor:"name",children:[Object(k.jsx)("p",{children:"Name"}),Object(k.jsx)("input",{type:"text",ref:c,id:"name"})]}),Object(k.jsx)("button",{disabled:x,type:"submit",children:"Sign Up"}),Object(k.jsxs)("p",{children:["Already have and account?"," ",Object(k.jsx)(i.b,{to:"/login",style:{color:"#00adb5"},children:"Log In"})]})]}),x&&Object(k.jsx)(d.a,{style:{backgroundColor:"#0000"}}),O&&Object(k.jsx)(p.a,{severity:"error",children:"Failed to create and account!"})]})}function S(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=w().login,c=Object(r.useState)(""),a=Object(b.a)(c,2),s=a[0],o=a[1],u=Object(r.useState)(!1),O=Object(b.a)(u,2),h=O[0],f=O[1],m=Object(r.useRef)(!1);function x(){return(x=Object(l.a)(j.a.mark((function r(c){return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.prev=1,o(""),f(!0),r.next=6,n(e.current.value,t.current.value);case 6:if(r.sent.ok){r.next=9;break}throw new Error;case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),o("Failed to log in");case 14:m.current&&f(!1);case 15:case"end":return r.stop()}}),r,null,[[1,11]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){return m.current=!0,function(){m.current=!1}})),Object(k.jsxs)("div",{className:"form",children:[Object(k.jsx)("h2",{children:"Log In"}),Object(k.jsxs)("form",{onSubmit:function(e){return x.apply(this,arguments)},children:[Object(k.jsxs)("label",{htmlFor:"email",children:[Object(k.jsx)("p",{children:"Email"}),Object(k.jsx)("input",{type:"email",ref:e,id:"email"})]}),Object(k.jsxs)("label",{htmlFor:"password",children:[Object(k.jsx)("p",{children:"Password"}),Object(k.jsx)("input",{type:"password",ref:t,id:"password"})]}),Object(k.jsx)("button",{type:"submit",children:"Log In"}),Object(k.jsxs)("p",{children:["Don't have and account yet?"," ",Object(k.jsx)(i.b,{to:"/signup",style:{color:"#00adb5"},children:"Sign up"})]})]}),h&&Object(k.jsx)(d.a,{style:{backgroundColor:"#0000"}}),s&&Object(k.jsx)(p.a,{severity:"error",children:"Failed to login!"})]})}function T(){return Object(k.jsxs)("div",{className:"join form",children:[Object(k.jsx)("h1",{children:"Join the community!"}),Object(k.jsx)(i.b,{to:"/login",style:{textDecoration:"none"},children:Object(k.jsx)("button",{type:"button",children:"Log In"})}),Object(k.jsx)(i.b,{to:"/signup",style:{textDecoration:"none"},children:Object(k.jsx)("button",{type:"button",children:"Sign up"})})]})}var R=n(9),E=n(44);var F=function(e){var t=e.component,n=Object(E.a)(e,["component"]),r=w().currentUser;return Object(k.jsx)(o.b,Object(R.a)(Object(R.a)({},n),{},{render:function(e){return r._id?Object(k.jsx)(t,Object(R.a)({},e)):Object(k.jsx)(o.a,{to:"/join"})}}))},P=(n(77),n(78),n(54)),D=n.n(P),U=(n(79),n(53)),I=n.n(U);function M(e){var t=e.not;return Object(k.jsxs)("div",{className:"notification",children:[Object(k.jsx)(I.a,{fontSize:"inherit"}),Object(k.jsx)("p",{children:t})]})}function _(){return Object(k.jsx)("div",{className:"not-container",children:["Feature coming soon"].map((function(e,t){return Object(k.jsx)(M,{not:e},e)}))})}var J=function(){var e=Object(o.g)().url,t=Object(r.useReducer)((function(e){return!e}),!1),n=Object(b.a)(t,2),c=n[0],a=n[1];return Object(k.jsxs)("div",{className:"header",children:[Object(k.jsx)("div",{className:"left",children:Object(k.jsx)("h1",{className:"links",children:"Task Synced"})}),Object(k.jsxs)("div",{className:"right",children:[Object(k.jsx)(i.b,{to:"".concat(e,"/schedule"),children:Object(k.jsx)("h2",{className:"links",children:"Schedule"})}),Object(k.jsx)(i.b,{to:"".concat(e,"/teams"),children:Object(k.jsx)("h2",{className:"links",children:"Teams"})}),Object(k.jsx)(i.b,{to:"".concat(e,"/profile"),children:Object(k.jsx)("h2",{className:"links",children:"Profile"})}),Object(k.jsx)(D.a,{onClick:a,className:"links not-icon"})]}),c&&Object(k.jsx)(_,{})]})};n(81);var A=function(){var e=(new Date).getFullYear();return Object(k.jsx)("div",{className:"footer",children:Object(k.jsxs)("p",{children:["Copyright \xa9 ",e," Gonzalo Pereira"]})})},L=(n(82),n(83),n(58)),z=n.n(L),B=n(57),G=n.n(B),Y=n(59),q=n.n(Y),H=n(60),K=n.n(H),Q=n(55),V=n.n(Q),W=n(56),X=n.n(W),Z=n(41),$=n.n(Z),ee=n(40),te=n.n(ee);function ne(e){var t=e.task,n=e.editable,c=e.deleteTask,a=t._id,s=t.name,i=t.description,o=t.date,u=Object(r.useReducer)((function(e){return!e}),!1),j=Object(b.a)(u,2),l=j[0],d=j[1],p=Object(r.useState)(!1),O=Object(b.a)(p,2),h=O[0],f=O[1],m=Object(r.useReducer)((function(e){return!e}),!1),x=Object(b.a)(m,2),v=x[0],y=x[1];return Object(k.jsxs)("div",{className:"task",onMouseOver:function(){return f(!0)},onMouseOut:function(){return f(!1)},onClick:function(){return d(!0)},children:[h||l?Object(k.jsxs)(k.Fragment,{children:[l?Object(k.jsx)(V.a,{}):Object(k.jsx)(X.a,{})," "]}):Object(k.jsxs)(k.Fragment,{children:[v?Object(k.jsx)(G.a,{}):Object(k.jsx)(z.a,{})," "]}),Object(k.jsx)("h4",{children:s}),Object(k.jsx)(q.a,{}),Object(k.jsx)("h5",{children:o.substring(0,10)}),n&&Object(k.jsxs)(k.Fragment,{children:[v?Object(k.jsx)(te.a,{className:"task-button",onMouseOver:function(e){return e.stopPropagation()},onMouseOut:function(e){return e.stopPropagation()},onClick:function(e){e.stopPropagation(),y()},style:{color:"e84545"}}):Object(k.jsx)(K.a,{className:"task-button",onMouseOver:function(e){return e.stopPropagation()},onMouseOut:function(e){return e.stopPropagation()},onClick:function(e){e.stopPropagation(),y()},style:{color:"00adb5"}}),Object(k.jsx)($.a,{className:"task-button",onMouseOver:function(e){return e.stopPropagation()},onMouseOut:function(e){return e.stopPropagation()},onClick:function(e){e.stopPropagation(),c(a)},style:{color:"e84545"}})]}),l&&Object(k.jsx)("div",{className:"task-description",children:i})]})}function re(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/teams/".concat(t)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return se.apply(this,arguments)}function se(){return(se=Object(l.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:if(!e.sent.members.find((function(e){return String(e.id)===n._id}))){e.next=5;break}throw new Error("Member already in team");case 5:return e.abrupt("return",fetch("/api/teams/".concat(t,"/members"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n._id,name:n.name})}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(l.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/teams/".concat(t,"/members/").concat(n),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return je.apply(this,arguments)}function je(){return(je=Object(l.a)(j.a.mark((function e(t,n){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return r=e.sent,c=r._id,e.abrupt("return",ae(c,n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t){return be.apply(this,arguments)}function be(){return(be=Object(l.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/teams/".concat(t,"/tasks"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(l.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/teams/".concat(t,"/tasks/").concat(n),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){var t=e.tasks,n=e.style,r=e.teamId,c=e.refreshTeam,a=e.editable,s=w().refreshUser;function i(e){return o.apply(this,arguments)}function o(){return(o=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de(r,t);case 3:return e.next=5,s();case 5:return e.next=7,c();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(k.jsx)("div",{className:"tasks-container",style:n,children:t.map((function(e,t){return Object(k.jsxs)("div",{children:[0!==t&&Object(k.jsx)("hr",{className:"dark-separator-line"}),Object(k.jsx)(ne,{task:e,deleteTask:i,editable:a})]},e._id)}))})}var he=function(){var e=w().currentUser.tasks;return Object(k.jsxs)("div",{className:"schedule",children:[Object(k.jsx)("h2",{children:"Tasks"}),Object(k.jsx)(Oe,{tasks:e,style:{borderRadius:"5px"}})]})},fe=(n(51),n(36)),me=n.n(fe),xe=n(49),ve=n.n(xe);var ye=function(e){var t=e.toggle,n=e.toggleCreateTeam,r=e.toggleJoinTeam;return Object(k.jsxs)("div",{className:"team-add",children:[Object(k.jsxs)("div",{className:"team-add-row",onClick:function(){t(),r()},children:[Object(k.jsx)(ve.a,{fontSize:"inherit",style:{color:"00adb5"}}),Object(k.jsx)("p",{children:"Join a team"})]}),Object(k.jsxs)("div",{className:"team-add-row",onClick:function(){t(),n()},children:[Object(k.jsx)(ve.a,{fontSize:"inherit",style:{color:"00adb5"}}),Object(k.jsx)("p",{children:"Create a new team"})]})]})},ke=n(23);n(84);function ge(e){var t=e.children,n=e.close;return Object(k.jsx)("div",{className:"popup-out",onMouseDown:n,children:Object(k.jsxs)("div",{className:"popup-in form",onMouseDown:function(e){return e.stopPropagation()},children:[Object(k.jsx)(te.a,{className:"popup-close-icon",onClick:n}),t]})})}function we(e,t){return Object(R.a)(Object(R.a)({},e),{},Object(ke.a)({},t.name,t.value))}function Ne(e){var t=e.close,n=Object(r.useReducer)(we,{}),c=Object(b.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(""),o=Object(b.a)(i,2),u=o[0],O=o[1],h=Object(r.useState)(!1),f=Object(b.a)(h,2),m=f[0],x=f[1],v=w(),y=v.currentUser,g=v.refreshUser,N=Object(r.useRef)(!1);function C(){return(C=Object(l.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,O(""),x(!0),e.next=6,ue(a,y);case 6:if(e.sent.ok){e.next=9;break}throw new Error;case 9:return e.next=11,t();case 11:return e.next=13,g();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),O("Couldn't create team");case 19:N.current&&x(!1);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function S(e){s({name:e.target.name,value:e.target.value})}return Object(r.useEffect)((function(){return N.current=!0,function(){N.current=!1}})),Object(k.jsxs)(ge,{close:t,children:[Object(k.jsx)("h2",{children:"Create new Team"}),Object(k.jsxs)("form",{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(k.jsxs)("label",{htmlFor:"name",children:[Object(k.jsx)("p",{children:"Name"}),Object(k.jsx)("input",{type:"text",id:"name",name:"name",value:a.name||"",onChange:S})]}),Object(k.jsxs)("label",{htmlFor:"description",children:[Object(k.jsx)("p",{children:"Description"}),Object(k.jsx)("textarea",{type:"text",id:"description",name:"description",value:a.description||"",onChange:S})]}),Object(k.jsx)("button",{type:"submit",children:"Create"})]}),Object(k.jsx)("br",{}),m&&Object(k.jsx)(d.a,{style:{backgroundColor:"#0000"}}),u&&Object(k.jsx)(p.a,{severity:"error",children:"Failed to create a new team!"})]})}function Ce(e,t){return Object(R.a)(Object(R.a)({},e),{},Object(ke.a)({},t.name,t.value))}function Se(e){var t=e.close,n=Object(r.useReducer)(Ce,{}),c=Object(b.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(""),o=Object(b.a)(i,2),u=o[0],O=o[1],h=Object(r.useState)(!1),f=Object(b.a)(h,2),m=f[0],x=f[1],v=w(),y=v.currentUser,g=v.refreshUser,N=Object(r.useRef)(!1);function C(){return(C=Object(l.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,O(""),x(!0),e.next=6,ae(a.teamId,y);case 6:if(e.sent.ok){e.next=9;break}throw new Error;case 9:return e.next=11,t();case 11:return e.next=13,g();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),O("Couldn't join team");case 18:N.current&&x(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){return N.current=!0,function(){N.current=!1}})),Object(k.jsxs)(ge,{close:t,children:[Object(k.jsx)("h2",{children:"Join a Team"}),Object(k.jsxs)("form",{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(k.jsxs)("label",{htmlFor:"teamId",children:[Object(k.jsx)("p",{children:"Team's ID"}),Object(k.jsx)("input",{type:"text",id:"teamId",name:"teamId",value:a.teamId||"",onChange:function(e){s({name:e.target.name,value:e.target.value})}})]}),Object(k.jsx)("button",{type:"submit",children:"Join"})]}),Object(k.jsx)("br",{}),m&&Object(k.jsx)(d.a,{style:{backgroundColor:"#0000"}}),u&&Object(k.jsx)(p.a,{severity:"error",children:"Failed to join the team!"})]})}var Te=function(){var e=Object(r.useReducer)((function(e){return!e}),!1),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(r.useReducer)((function(e){return!e}),!1),s=Object(b.a)(a,2),i=s[0],o=s[1],u=Object(r.useReducer)((function(e){return!e}),!1),j=Object(b.a)(u,2),l=j[0],d=j[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"team-title",children:[Object(k.jsx)("h3",{children:"My teams"}),Object(k.jsx)(me.a,{onClick:c,className:"add-icon"}),n&&Object(k.jsx)(ye,{toggle:c,toggleCreateTeam:o,toggleJoinTeam:d})]}),i&&Object(k.jsx)(Ne,{close:o}),l&&Object(k.jsx)(Se,{close:d})]})},Re=n(42),Ee=n.n(Re);var Fe=function(e){var t=e.team,n=e.selectTeam;return Object(k.jsxs)("div",{className:"team-link",onClick:function(){n(t.id)},children:[Object(k.jsx)(Ee.a,{className:"team-icon"}),Object(k.jsx)("h4",{children:t.name.substring(0,18)+(t.name.length>18?"...":"")})]})};var Pe=function(e){var t=e.teams,n=e.selectTeam;return Object(k.jsxs)("div",{className:"team-nav",children:[Object(k.jsx)(Te,{}),t.map((function(e,t){return Object(k.jsxs)("div",{children:[0!==t&&Object(k.jsx)("hr",{className:"teams-separator-line"}),Object(k.jsx)(Fe,{team:e,selectTeam:n})]},e.id)}))]})};function De(e,t){return Object(R.a)(Object(R.a)({},e),{},Object(ke.a)({},t.name,t.value))}function Ue(e){var t=e.close,n=e.currTeam,c=e.refreshTeam,a=Object(r.useReducer)(De,{}),s=Object(b.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(""),O=Object(b.a)(u,2),h=O[0],f=O[1],m=Object(r.useState)(!1),x=Object(b.a)(m,2),v=x[0],y=x[1],g=w().refreshUser,N=Object(r.useRef)(!1);function C(){return(C=Object(l.a)(j.a.mark((function e(r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,f(""),y(!0),e.next=6,le(n._id,i);case 6:if(e.sent.ok){e.next=9;break}throw new Error;case 9:return e.next=11,t();case 11:return e.next=13,g();case 13:return e.next=15,c();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),f("Couldn't create team");case 20:N.current&&y(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function S(e){o({name:e.target.name,value:e.target.value})}return Object(r.useEffect)((function(){return N.current=!0,function(){N.current=!1}})),Object(k.jsxs)(ge,{close:t,children:[Object(k.jsx)("h2",{children:"Create new Task"}),Object(k.jsxs)("form",{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(k.jsxs)("label",{htmlFor:"name",children:[Object(k.jsx)("p",{children:"Name"}),Object(k.jsx)("input",{type:"text",id:"name",name:"name",value:i.name||"",onChange:S})]}),Object(k.jsxs)("label",{htmlFor:"description",children:[Object(k.jsx)("p",{children:"Description"}),Object(k.jsx)("textarea",{type:"text",id:"description",name:"description",value:i.description||"",onChange:S})]}),Object(k.jsxs)("label",{htmlFor:"date",children:[Object(k.jsx)("p",{children:"Expected date"}),Object(k.jsx)("input",{type:"date",id:"date",name:"date",value:i.date||"",onChange:S,min:"2020-01-01",max:"2022-01-01"})]}),Object(k.jsx)("button",{type:"submit",children:"Add task"})]}),Object(k.jsx)("br",{}),v&&Object(k.jsx)(d.a,{style:{backgroundColor:"#0000"}}),h&&Object(k.jsx)(p.a,{severity:"error",children:"Failed to create a new team!"})]})}var Ie=n(61),Me=n.n(Ie);function _e(e){var t=e.member,n=e.deleteMember,r=t.id,c=t.name;return Object(k.jsxs)("div",{className:"member",children:[Object(k.jsx)(Me.a,{}),Object(k.jsx)("h4",{children:c}),Object(k.jsx)($.a,{className:"member-button",style:{color:"e84545"},onClick:function(){n(r)}})]})}n(85);function Je(e){var t=e.members,n=e.teamId,r=e.refreshTeam,c=w().refreshUser;function a(e){return s.apply(this,arguments)}function s(){return(s=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(n,t);case 3:return e.next=5,c();case 5:return e.next=7,r();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(k.jsx)("div",{className:"members-container",children:t.map((function(e,t){return Object(k.jsxs)("div",{children:[0!==t&&Object(k.jsx)("hr",{className:"dark-separator-line"}),Object(k.jsx)(_e,{member:e,deleteMember:a})]},e._id)}))})}function Ae(e,t){return Object(R.a)(Object(R.a)({},e),{},Object(ke.a)({},t.name,t.value))}function Le(e){var t=e.close,n=e.currTeam,c=e.refreshTeam,a=Object(r.useReducer)(Ae,{}),s=Object(b.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(""),O=Object(b.a)(u,2),h=O[0],f=O[1],m=Object(r.useState)(!1),x=Object(b.a)(m,2),y=x[0],g=x[1],w=Object(r.useRef)(!1);function N(){return(N=Object(l.a)(j.a.mark((function e(r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,f(""),g(!0),e.next=6,v(i.id);case 6:return a=e.sent,e.next=9,ae(n._id,a);case 9:if(e.sent.ok){e.next=12;break}throw new Error;case 12:return e.next=14,t();case 14:return e.next=16,c();case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0),f("Couldn't create team");case 22:w.current&&g(!1);case 23:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){return w.current=!0,function(){w.current=!1}})),Object(k.jsxs)(ge,{close:t,children:[Object(k.jsx)("h2",{children:"Add new member"}),Object(k.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(k.jsxs)("label",{htmlFor:"id",children:[Object(k.jsx)("p",{children:"Add member with User's ID"}),Object(k.jsx)("input",{type:"text",id:"id",name:"id",value:i.id||"",onChange:function(e){o({name:e.target.name,value:e.target.value})}})]}),Object(k.jsx)("button",{type:"submit",children:"Add member"}),Object(k.jsx)("p",{children:"Or send him this team's ID"}),Object(k.jsx)("div",{className:"add-member-team-id",children:n._id})]}),Object(k.jsx)("br",{}),y&&Object(k.jsx)(d.a,{style:{backgroundColor:"#0000"}}),h&&Object(k.jsx)(p.a,{severity:"error",children:"Failed to add new member!"})]})}var ze=function(e){var t=e.currTeam,n=e.selectTeam;if(!t)return Object(k.jsx)("div",{className:"team-content",children:Object(k.jsx)("h2",{children:"Select a team!"})});var c=t.name,a=t.description,s=t.tasks,i=t.members,o=Object(r.useReducer)((function(e){return!e}),!1),u=Object(b.a)(o,2),j=u[0],l=u[1],d=Object(r.useReducer)((function(e){return!e}),!1),p=Object(b.a)(d,2),O=p[0],h=p[1];function f(){n(t._id)}return Object(k.jsxs)("div",{className:"team-content",children:[Object(k.jsx)("h3",{children:c}),Object(k.jsx)("div",{className:"team-description",children:Object(k.jsx)("p",{children:a})}),Object(k.jsx)("h3",{children:"Tasks"}),Object(k.jsx)(Oe,{tasks:s,teamId:t._id,refreshTeam:f,editable:!0}),Object(k.jsxs)("div",{className:"add-task",onClick:l,style:s&&s.length?{}:{borderRadius:"5px"},children:[Object(k.jsx)(me.a,{style:{color:"00adb5"}}),Object(k.jsx)("h5",{children:"Add new task"})]}),Object(k.jsx)("h3",{children:"Members"}),Object(k.jsx)(Je,{members:i,teamId:t._id,refreshTeam:f}),Object(k.jsxs)("div",{className:"add-member",onClick:h,style:i&&i.length?{}:{borderRadius:"5px"},children:[Object(k.jsx)(me.a,{style:{color:"00adb5"}}),Object(k.jsx)("h5",{children:"Add new member"})]}),j&&Object(k.jsx)(Ue,{close:l,currTeam:t,refreshTeam:f}),O&&Object(k.jsx)(Le,{close:h,currTeam:t,refreshTeam:f})]})};var Be=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),s=Object(b.a)(a,2),i=s[0],o=s[1],u=w().currentUser;function d(e){return p.apply(this,arguments)}function p(){return(p=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:n=e.sent,o(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=u.teams;c(e)}),[u]),Object(k.jsxs)("div",{className:"teams-container",children:[Object(k.jsx)(Pe,{teams:n,selectTeam:d}),Object(k.jsx)(ze,{currTeam:i,selectTeam:d})]})};n(86);function Ge(){var e=w(),t=e.logout,n=e.currentUser,r=n.name,c=n.username,a=n._id;return Object(k.jsxs)("div",{className:"profile",children:[Object(k.jsx)("h2",{children:"My Profile"}),Object(k.jsx)("div",{className:"profile-pic",children:Object(k.jsx)(Ee.a,{fontSize:"inherit"})}),Object(k.jsx)("h3",{children:"Name"}),Object(k.jsx)("p",{children:r}),Object(k.jsx)("h3",{children:"Email"}),Object(k.jsx)("p",{children:c}),Object(k.jsx)("h3",{children:"User ID"}),Object(k.jsx)("p",{children:a}),Object(k.jsx)("button",{className:"logout-button",type:"button",onClick:function(){t()},children:"Log out"})]})}var Ye=function(){var e=Object(o.g)().path;return Object(k.jsxs)("main",{children:[Object(k.jsx)(J,{}),Object(k.jsx)("div",{className:"content-container",children:Object(k.jsxs)(o.d,{children:[Object(k.jsx)(F,{path:e,exact:!0,children:Object(k.jsx)(o.a,{to:"".concat(e,"/schedule")})}),Object(k.jsx)(F,{path:"".concat(e,"/schedule"),component:he,exact:!0}),Object(k.jsx)(F,{path:"".concat(e,"/teams"),component:Be}),Object(k.jsx)(F,{path:"".concat(e,"/profile"),component:Ge,exact:!0})]})}),Object(k.jsx)(A,{})]})};var qe=function(e){var t=e.component,n=e.restricted,r=Object(E.a)(e,["component","restricted"]),c=w().currentUser;return Object(k.jsx)(o.b,Object(R.a)(Object(R.a)({},r),{},{render:function(e){return c._id&&n?Object(k.jsx)(o.a,{to:"/"}):Object(k.jsx)(t,Object(R.a)({},e))}}))};function He(){return Object(k.jsx)(i.a,{children:Object(k.jsx)(N,{children:Object(k.jsxs)(o.d,{children:[Object(k.jsx)(qe,{restricted:!0,path:"/login",component:S,exact:!0}),Object(k.jsx)(qe,{restricted:!0,path:"/signup",component:C,exact:!0}),Object(k.jsx)(qe,{restricted:!0,path:"/join",component:T,exact:!0}),Object(k.jsx)(F,{path:"/home",component:Ye}),Object(k.jsx)(o.b,{path:"/",exact:!0,children:Object(k.jsx)(o.a,{to:"/home"})})]})})})}s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(He,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.f634e587.chunk.js.map